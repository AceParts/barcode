---
layout: default
title: "BARCODE : PHP CLASS TO CREATE BARCODE IN GD OR IN PDF"
description: "Barcode : PHP class to create barcode : data matrix, ean 8, ean 13, code 128, 2 of 5 interleaved and standard, code 11, code 39, code 93, codabar, msi"
language: en
highlight: true
---
<h1>PHP Class : barcode</h1>
<p id="version" class="version-php">
    Version : {{site.data.releases.php.version}}<br />
    Licence : GPL / Cecill<br />
    Date : {{site.data.releases.php.date}}<br />
    Author: DEMONTE Jean-Baptiste, HOUREZ Jonathan<br /><br />
    <a href="/download/{{site.data.releases.php.file}}">Download the class PHP Barcode {{site.data.releases.php.version}}</a>
</p>

<h2>Barcode PHP Class installation</h2>

<p>Like all class, juste include the source file.</p>

<pre class="php:nocontrols:nogutter">
  include('Barcode.php');
</pre>

<p>These classes are included :</p>
<ul>
    <li>Barcode</li>
    <li>BarcodeI25</li>
    <li>BarcodeEAN</li>
    <li>BarcodeMSI</li>
    <li>Barcode11</li>
    <li>Barcode39</li>
    <li>Barcode93</li>
    <li>Barcode128</li>
    <li>BarcodeCodabar</li>
    <li>BarcodeDatamatrix</li>
</ul>


<h2>Barcode PHP Class utilisation</h2>

<p>To use this class, tow statics functions are available, one for GD ressource and second one for FPDF</p>

<pre class="php:nocontrols:nogutter">
  Barcode::gd($res, $color, $x, $y, $angle, $type, $datas, $width = null, $height = null);
  Barcode::fpdf($res, $color, $x, $y, $angle, $type, $datas, $width = null, $height = null);
</pre>

<h4>$res</h4>
<p>ressource gd or fpdf<br /><br />Unit depends on ressource : pixel for GD and defined in the constructor for fpdf

<h4>$color</h4>
<p>int, string<br /><br />Descriptor of the color (int) for GD and hexadecimal string for fpdf (ie: "FF0000")</p>

<h4>$x, $y</h4>
<p>numeric<br /><br />coordinate of barcode center</p>

<h4>$angle</h4>
<p>numeric<br /><br />Rotation angle in degree</p>

<h4>$datas</h4>
<p>string<br /><br />Value barcode (dependent on the type of barcode)<br />If barcode type include it, the presence of the checksum is not mandatory, it ise automatically recalculated</p>
<p>array<br /><br /></p>

<table class="barcode-details">
    <tr><th class="label" colspan="2">type : ean8, ean13, code11, code39, code128, codabar</th></tr>
    <tr><th class="label">member</th><th class="type">Type</th></tr>
    <tr><td>code</td><td>string</td></tr>
</table>

<table class="barcode-details">
    <tr><th class="label" colspan="2">type : std25, int25, code93</th></tr>
    <tr><th class="label">member</th><th class="type">Type</th></tr>
    <tr><td>code</td><td>string</td></tr>
    <tr><td>crc</td><td>boolean</td></tr>
</table>

<table class="barcode-details">
    <tr><th class="label" colspan="3">type : msi</th></tr>
    <tr><th class="label">member</th><th class="type" colspan="2">Type</th></tr>
    <tr><td>code</td><td colspan="2">string</td></tr>
    <tr><td rowspan="3">crc</td><td colspan="2">boolean</td></tr>
    <tr><td rowspan="2">array</td><td>crc1 : string("mod10", "mod11")</td></tr>
    <tr><td>crc2 : string("mod10", "mod11")</td></tr>
    </tr>
</table>

<table class="barcode-details">
    <tr><th class="label" colspan="2">type : datamatrix</th></tr>
    <tr><th class="label">member</th><th class="type">Type</th></tr>
    <tr><td>code</td><td>string</td></tr>
    <tr><td>rect</td><td>boolean (default : false)</td></tr>
</table>

<h4>type (string)</h4>
<ul>
    <li>codabar</li>
    <li>code11 (code 11)</li>
    <li>code39 (code 39)</li>
    <li>code93 (code 93)</li>
    <li>code128 (code 128)</li>
    <li>ean8 (ean 8)</li>
    <li>ean13 (ean 13)</li>
    <li>std25 (standard 2 of 5 - industrial 2 of 5)</li>
    <li>int25 (interleaved 2 of 5)</li>
    <li>msi</li>
    <li>datamatrix (ASCII + extended)</li>
</ul>

<h4>$width, $height</h4>
<p>numeric<br /><br />width and height of an element, for 2D barcode (datamatrix), $height is not used</p>

<h4>&lt;&lt; Returned value &gt;&gt;</h4>
<p>Both methods return an array containing the dimensions of the barcode and the coordinates of its ends</p>
<pre class="php:nocontrols:nogutter">
array(
        'width' => w,
        'height'=> h,
        'p1' => array('x' => x, 'y' => y),
        'p2' => array('x' => x, 'y' => y),
        'p3' => array('x' => x, 'y' => y),
        'p4' => array('x' => x, 'y' => y)
      );
</pre>

<p>Example :</p>

<pre class="php:nocontrols:nogutter">
  $im     = imagecreatetruecolor(300, 300);
  $black  = ImageColorAllocate($im,0x00,0x00,0x00);
  $white  = ImageColorAllocate($im,0xff,0xff,0xff);
  imagefilledrectangle($im, 0, 0, 300, 300, $white);
  $data = Barcode::gd($im, $black, 150, 150, 0, "code128", "12345678", 2, 50);
</pre>

<p>"rotate" function allow to calculate coordinate of rotated point, usefull to center the "hri" (human readable interpretation)</p>

<p>Example</p>
<pre class="php:nocontrols:nogutter">
  $box = imagettfbbox($fontSize, 0, $font, $data['hri']);
  $len = $box[2] - $box[0];
  Barcode::rotate(-$len / 2, ($data['height'] / 2) + $fontSize + $marge, $angle, $xt, $yt);
  imagettftext($im, $fontSize, $angle, $x + $xt, $y + $yt, $blue, $font, $data['hri']);
</pre>